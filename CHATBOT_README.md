# AI Chatbot Integration for Mihai Popescu's Personal Website

> **Note**: This chatbot was built using Cursor with Claude 4 Sonnet as the AI coding assistant. This README file was also generated by Claude 4 Sonnet. Git commits where Claude was involved in the development process are marked with `-- claude-4-sonnet supported` appended to the commit message.

## Overview

This project integrates an AI-powered chatbot into Mihai Popescu's personal website. The chatbot uses OpenAI's GPT-3.5-turbo model and is equipped with comprehensive knowledge about Mihai's professional experience, skills, projects, and can fetch real-time GitHub statistics and commit history.

## Features

### ü§ñ AI-Powered Responses
- Uses OpenAI GPT-3.5-turbo for natural, conversational responses
- Responds in first person as Mihai Popescu
- Maintains conversation context and history

### üìö Knowledge Base
- **Professional Experience**: Details about software development and engineering management roles
- **Technical Skills**: Programming languages, frameworks, tools, and methodologies
- **Achievements**: Notable accomplishments at companies like Nulogy and Shopify
- **Content**: Information about presentations and blog posts
- **Personal Interests**: D&D, reading, guitar, gaming

### üîÑ GitHub Integration
- **Real-time API**: Fetches current GitHub statistics (repositories, followers, etc.)
- **Build-time Generation**: Webpack plugin generates commit history during build process
- **Configurable Limits**: Set commit count via `GITHUB_COMMIT_LIMIT` environment variable (default: 20)
- **Pagination Support**: Fetches unlimited commits from GitHub API
- **Rich Data**: Includes repository stats, commit details, and branch information
- **Build Integration**: Generated `commit-history.json` file for chatbot knowledge base
- Handles API errors gracefully

### üå¶Ô∏è Weather API Integration
- Server-side weather data endpoint at `/api/weather`
- Secure API key handling for weather services
- Error handling and graceful degradation

### üí¨ Modern UI
- Beautiful, responsive chat interface
- Floating chat button with notification indicator
- Typing indicators and smooth animations
- Mobile-friendly design
- Font Awesome icons for visual appeal

## Key Files

### Core Components
- `src/chatbot/chatbot.js` - Main chatbot logic and OpenAI integration
- `src/chatbot/chatbot-ui.js` - User interface components and interactions
- `src/chatbot/chatbot.css` - Styling for the chat interface
- `server.js` - Express server with API endpoints for chat, weather, and health checks

### Build System
- `src/webpack-commit-history-plugin.js` - Webpack plugin for GitHub commit history generation
- `webpack.config.js` - Updated with commit history plugin integration

### Testing & Utilities
- Comprehensive test suite with 93 tests covering all functionality
- `scripts/chat-cli.js` - Command-line interface for chatbot testing
- `scripts/test-chatbot.js` - Automated testing script

## Setup and Configuration

### 1. Environment Variables
Create a `.env` file in the project root:

```bash
OPENAI_API_KEY=your_openai_api_key_here
GITHUB_TOKEN=your_github_token_here  # Optional: for commit history generation
GITHUB_COMMIT_LIMIT=100              # Optional: number of commits to fetch (default: 20)
GITHUB_OWNER=your_github_username    # Optional: defaults to MihaiOnSoftware
GITHUB_REPO=your_repo_name           # Optional: defaults to personal-resume
```

### 2. Installation and Deployment
```bash
# Install dependencies
npm install

# Build and start
npm run dev

# Or separately
npm run build
npm start

# Run tests
npm test
```

### 3. Integration
The chatbot is automatically integrated into website pages through the build process.

## Usage Examples

### Sample Questions
- "Tell me about your professional experience"
- "What programming languages do you know?"
- "How many GitHub repositories do you have?"
- "What are your recent commits?"

### Programmatic Usage
```javascript
window.chatbot.processMessage("Hello!");
window.chatbotUI.sendProgrammaticMessage("What are your skills?");
```

### Command Line Testing
```bash
node scripts/chat-cli.js    # Interactive CLI
node scripts/test-chatbot.js # Automated testing
```

## Technical Architecture

### AI Integration
- **Model**: OpenAI GPT-3.5-turbo
- **Context Management**: Includes conversation history and system prompts
- **Dynamic Context**: Adds GitHub stats and commit history when relevant to the question

### Knowledge Base Structure
```javascript
{
  personal: { name, role, description, interests },
  experience: { summary, achievements, companies },
  skills: { languages, frameworks, tools, methodologies },
  content: [{ topic, description, url }],
  commit_history: { repository_stats, commit_history }
}
```

### Server Architecture
- **Express Server**: Secure API proxy endpoints (`/api/chat`, `/api/health`, `/api/weather`)
- **CORS Support**: Configured for development and production
- **Static Serving**: Hosts the website files
- **Error Handling**: Graceful degradation when APIs are unavailable

## Security & Performance

### Security
- API keys secured in environment variables (never client-side)
- Server-side proxy prevents API key exposure
- Input sanitization for user messages
- CORS policies configured appropriately
- Get API keys from: [OpenAI Platform](https://platform.openai.com/api-keys) and [GitHub Settings](https://github.com/settings/tokens)

### Performance
- **Lazy Loading**: Chatbot loads only when needed
- **Optimized Requests**: Includes only necessary context in API calls
- **Caching**: Conversation history maintained locally
- **Build-time Generation**: Commit history fetched once during build process (not at runtime)

## Testing

The project includes comprehensive testing with 93 tests covering:
- **Unit Tests**: Core chatbot functionality, knowledge base, message processing
- **Server Tests**: API endpoints, proxy behavior, error handling, CORS
- **Integration Tests**: GitHub workflow, webpack plugin functionality
- **UI Tests**: Component rendering, user interactions, message display

Test environments are properly configured with jsdom for client tests and Node.js for server tests, with comprehensive mocking of external APIs.

## Demo

The chatbot is integrated into the main website pages. After building and starting the server, visit the homepage to interact with the chatbot.

## Development Notes

The implementation follows TDD principles with comprehensive test coverage. The code is linted and follows consistent style guidelines. The modular architecture allows for easy extension and maintenance. 